# 8.甘塔拉发电厂:工业机器的预测性维护

这一章是关于一个能源行业的案例研究，我们试图模拟工业机器的预测性维护数据。案例研究的背景是非洲地区未来的一个虚拟国家。它提出了在一个第三世界国家建立一个发电厂所面临的挑战，从土地征用到概念设计再到实际建立。还包括建立电厂的技术要求和技术规范，其中包括电厂的工业相关土地，以便您了解电厂真正需要什么才能建立。如果您是新手或者对能源行业有所了解，您会发现有帮助的是电厂要求的输入处理和输出格式表，它奠定了企业的完整结构和基础。虽然人物、场景和国家都是虚构的，但它们会让你了解社会政治环境压力是如何对发电这样的基本事情产生影响的。作为案例研究的一部分，还包括一位机器学习工程师，他的性格在案例研究中得到了仔细的刻画，让你了解一个典型的机器学习工程师在处理这类问题时会经历什么样的压力。因此，让我们开始我们的案例研究。

## 案例研究

一家私营发电厂的首席执行官刘诺琪·奥拉刚刚抵达非洲诺巴格省的首都甘塔拉，由于最近当选的政府的进步政策，该市正在快速发展。然而，随着发展而来的是为工业和居民需求生产足够电力的挑战。从该电厂的概念形成到目前的峰值负荷为 500 兆瓦的发电状态，刘诺琪一直与该公司在一起。旅程并不平坦；一路走来问题百出。事实是，在第三世界国家建立发电厂面临着巨大的挑战，从寻找资金合作伙伴到寻找愿意安装的工厂设备供应商。

2024 年叙利亚战争结束后，当主要国家走到一起开拓这个国家时，诺巴格成为非洲大陆上的一个独立国家。自独立以来，该国对发展矿业和农业的兴趣越来越大，这是当地人民的主要职业。中国政府建立了各种经济特区，为来这里创业的公司提供各种税收优惠。刘诺琪的公司 Nobag Power Enterprise Ltd .就是这样一家公司，它是由一些欧洲企业集团建立的，目的是利用该国的发展潜力，促进其基础设施建设。Nobag 主席 Ag Zisi 向 Nobag 电力企业颁发了以下特许状，作为总统令的一部分，以成功完成其使命:

Nobag 电力企业获准生产和分配高达 500 MW 容量的热能，以支持甘塔拉首都地区在两年内的电力需求。

该公司的愿景声明反映了总统的宪章，内容如下

Nobag 电力企业的愿景是生产和分配电力，满足 Nobag 人民的电力需求，以帮助其住宅和工业发展。

## 项目背景

当 Nobag 电力企业对 Gantara 发电厂进行概念设计时，它制定了发电厂建设和安装的土地需求计划，因为这是 Nobag 政府建立该项目的关键因素。土地需求已传达给政府官员，因为这是一个火力发电厂，需要尽快完成土地征用，以便启动电厂建设流程。表 [8-1](#Tab1) 给出了 500MW 电厂的土地规划进度表。

表 8-1

甘达拉电厂的电厂用地要求

<colgroup><col class="tcol1 align-left"> <col class="tcol2 align-left"></colgroup> 
| 

以英亩计的面积

 |
| --- |
| 

描述

 | 

500MW

 |
| --- | --- |
| **电厂边界内的设施** |
| **主厂房** | **25** |
| **输煤系统** | **230** |
| **水系统** | **45** |
| **蓄水池** | **30** |
| **开关站** | **25** |
| **BOP、商店和道路** | **70** |
| **绿化带面积** | **150** |
| **电厂边界外的设施** |
| **除灰区** | **270** |
| **员工乡镇** | **100** |
| **灰、原水和煤处理** | **250** |
| 大合计 | **第 1195 章** |

虽然诺巴格有足够的土地来建立一个发电厂项目，但甘塔拉市周围的大部分土地都被农民占据了。他们对新成立的 Nobag 政府征用土地开发电厂的努力进行了坚决抵制。这导致了暴力，政府宣布该公司寻求征地的地区进入紧急状态，因为该地区靠近一个水库。最后，在政府同意农民要求的适当补偿后，经过 9 个月的斗争，土地征用继续进行，鉴于政府试图为大坝和其他项目征用土地的类似情况，这是一个记录；它遭遇了诉讼和暴力抗议。虽然诺巴格人民理解发电厂是为了他们的利益，正如政府和刘诺琪·奥拉在与甘塔拉农民和人民的互动中所表达的那样，但问题是信任政府给他们一个双赢的交易。在来自欧洲企业集团的压力下，政府屈服于压力，通过给予基于市场的补偿来获得土地。

54 岁的刘诺琪·奥拉是一名出生于非洲的电气工程师，曾在通用电气等公司工作过，在为其欧洲合作伙伴建立电厂设施方面有着丰富的经验。他在中东成功建立了一家工厂后，升任首席执行官。作为这个大陆的本地人，他对地理非常了解。他在政治上人脉很广，能够利用一些关系使这个项目成功。遴选委员会从三名潜在候选人中挑选出了他，这三名候选人有着相似的经历，但不具备担任这份工作的种族优势。

Nobag 拥有丰富的煤矿储量，可以再开采 100 年。因此，建立一个火力发电厂是最好的选择，因为它有较少的石油储备来满足发电厂对天然气的需求。它将不得不从其他中东国家购买，这将是昂贵的，并将耗尽其本已微薄的外汇储备。此外，它将依赖天然气供应发电，因为邻国刚刚结束长期战争，如果该地区局势再次动荡，天然气管道可能成为军事打击的目标。尽管 Nobag 有自己的污染控制法律，但由于它正在接受欧洲集团等外部机构的帮助，它必须遵守这些机构设定的清洁能源要求。火力发电厂必须实施 CCS，这是捕获碳并将其放入地下( [`https://en.wikipedia.org/wiki/Carbon_capture_and_storage`](https://en.wikipedia.org/wiki/Carbon_capture_and_storage) )的过程，从而减少碳向大气中的释放。发电厂的主要目的是将煤的化学能转化为电能。这通常是通过提高锅炉中的蒸汽，使其通过蒸汽轮机膨胀，然后将蒸汽轮机连接到发电机来实现的，发电机将机械能转化为电能。该热电厂的输入和输出容量见表 [8-2](#Tab2) 。请注意，所有数字都是针对 24 小时的日常消费周期。

表 8-2

甘达拉发电厂的输入和输出

<colgroup><col class="tcol1 align-left"> <col class="tcol2 align-left"> <col class="tcol3 align-left"> <col class="tcol4 align-left"> <col class="tcol5 align-left"></colgroup> 
| 

描述

 | 

投入

 | 

处理

 | 

描述

 | 

输出

 |
| --- | --- | --- | --- | --- |
| **煤** | Six thousand |   | **二氧化碳** | Fifteen thousand |
| **炉油** | Fifty point five | 500 兆瓦 | **SO2 + NO2** | Three hundred and forty |
| **水** | Four thousand nine hundred |   | **GT** | Four hundred and sixty |
| **电** | Forty |   | **灰烬** | Two thousand one hundred |

典型的以煤为基础的火力发电厂的问题是产生像 Co2、SO2 和 NO2 这样的气体，这些气体严重污染环境。所以这些气体需要通过捕获并埋到地下来处理，尤其是二氧化碳。这增加了项目成本和资金需求。发电厂本身需要电力供自己消耗，因此需要大约 40 兆瓦的电流来运行，只有 460 兆瓦的电流被释放出来进一步输送到甘塔拉市。每天 4900 立方米的需求是寻找水库附近特定土地的原因，也是农田为其设置带来问题的原因。每天产生 2100 吨火山灰，政府邀请私人团体建造工厂，用火山灰生产混凝土产品和墙板，以免污染水库周围的土地，因为农民也使用火山灰。当发电厂在甘塔拉附近启动时，几乎没有任何生产波特兰火山灰水泥(PPC)的工厂，这种水泥可以回收产生的灰烬，因此它们被释放到发电厂附近的干燥垃圾填埋场。环保主义者提出抗议，反对给电厂周围的农民造成这样的环境危害；然而，政府向他们保证，完全利用发电厂产生的飞灰的设施将在几年内准备就绪，从而减少拟建发电厂周围的环境危害。

为了在甘塔拉附近建造热电厂，该公司从一个全球投资者财团获得了 6 亿美元的贷款，以满足附近地区不断增长的电力消耗负荷。

新发电厂的装机峰值负荷能力为 500 兆瓦，而目前的峰值负荷需求为 640 兆瓦，在新发电厂投产后，困扰其运行的问题是电力系统损耗高、发电厂效率低、供电不稳定、窃电、停电以及发电厂维护资金短缺。总的来说，在过去十年里，该国的发电厂无法满足系统需求。中国目前从一个邻国购买电力，但必须用美元支付，这耗尽了中国至关重要的外汇储备。每当这个发电厂停电时，都会从邻国获取备用电力，以便在停电期间供电。它在夏季和冬季高峰负荷季节发电有问题。

Nobag 的总裁 Ag Zisi 上个月与首席执行官刘诺琪·奥拉召开了一次紧急会议，原因是夏季几个月来消费者对电厂停电的大量投诉，导致首都停电数小时。最后一次停电持续了 48 个多小时，直到邻国提供替代电源后，整个城市才恢复供电。总统想知道为什么一个八个月前才投产的新电厂会出现问题。火力发电厂的寿命超过 30 年。由于媒体对其政府无力向国家首都提供充足电力的压力越来越大，总统召集欧洲集团官员进行调查，并提交一份关于频繁停电的原因以及如何解决这一问题的报告。委员会花了 20 多天时间研究工厂的基础设施。它的团队中有一位名叫卡尔的机器学习工程师，他也被拉进来帮助团队根据发电厂提供的数据确定这些断电的真正原因。Carl 使用 Modbus RS485 接口设备在两周的时间内从关键的电厂机器中获取数据。他的发现如下:

*   由于汽轮机的原因，停机是电厂中最常见的问题。

*   需要找到缩短停机时间的方法。

*   需要减少停机次数。

*   需要围绕发电厂现在的负载和未来几个小时的预计负载建立预测模型。

诺巴格政府根据第一个委员会的调查结果成立了第二个全国委员会，以查明并纠正停电的主要原因。报告发现，故障实际上是由于燃气轮机的操作缺乏协调。

卡尔也是第二国家委员会的成员，他制定了以下参数，以从燃气轮机/电网收集停机数据:

*   总周期，T

*   在周期 T 内发生的故障数量

*   维护之间的故障次数

*   维护之间的总运行时间

*   每年总停机时间

*   每年的失败次数

*   燃气轮机的正常运行时间

*   燃气轮机停机时间

与任何传统的燃煤电厂设施一样，这些设备和机器在没有集中存储的连接单一数据源的筒仓中工作。从涡轮机到变压器到锅炉，每个单元都受到独立监控。此外，卡尔要求的数据没有被电厂存储，因此委员会成员不可能确定燃气轮机发生故障的真正原因。国家委员会要求刘诺琪·奥拉的公司使用物联网传感器从燃气轮机收集数据，并将数据中继和存储在新的私有云服务器中。结果将在两周内 24x7 全天候生成，以便可以清楚地记录大修持续时间。目的是帮助 Carl 创建一个模型来预测断电。当然，描述和诊断停机是流程的一部分。委员会的努力是让发电厂公司变得向前看，而不仅仅是向后看，并对发电厂内部发生的停电做出预测和规定。

正如任何改变行动方式的新举措一样，委员会正在做的事情也遇到了阻力。工会聚在一起，急切地想知道这次活动的结果。这会导致失业吗？这会导致减薪吗？每个人都很好奇。为了获得一组新的数据，在涡轮机周围放置新的物联网传感器存在阻力。尽管如此，卡尔和他的团队决心继续前进，实现他们的计划。

该计划采用了许多传感器，比如测量涡轮机周围温度和光线的传感器，以及测量涡轮机附近超声波的传感器。卡尔想确保他不遗余力地确定涡轮机故障的真正原因。卡尔虽然是机器学习工程师，但他必须研究他工作的领域，即发电厂，所以他必须学习发电厂的完整功能。他制作了一个简短的发电厂示意图，其单元如图 [8-1](#Fig1) 所示。

![../images/484167_1_En_8_Chapter/484167_1_En_8_Fig1_HTML.jpg](../images/484167_1_En_8_Chapter/484167_1_En_8_Fig1_HTML.jpg)

图 8-1

热电厂示意图

他把这份报告给委员会官员和其他成员看，他们不知道火力发电计划是如何运作的。他的报告内容如下:

“请记住，这不是技术图，而是帮助你理解火力发电厂关键部件的草图。实际的电厂更复杂；但是，组件保持不变。让我们逐一讨论每个组件。

锅炉是一种容器，水被输入其中，蒸汽以所需的压力、温度和流量排出。对容器进行加热。为此，锅炉应该有燃烧燃料和释放热量的设施。锅炉的主要功能如下:

*   将燃料(如空气)的化学能转化为热能。

*   将这种热能转化为水用于蒸发，也转化为蒸汽用于过热。

锅炉的基本部件有

*   炉子和燃烧器

*   蒸汽和过热

类似地，另一个部件，省煤器，通过从烟气中提取热量来加热水并将其送到锅炉汽包来提高锅炉的效率。

顾名思义，节能器的优点包括

*   节约燃料:用于节约燃料，提高锅炉设备的整体效率

*   减小锅炉尺寸:由于给水在省煤器中预热，然后以较高的温度进入锅炉管，蒸发所需的传热面积大大减小。

在低压和高压加热器中，当烟气流出省煤器时，热量从烟气中被带走，然后在将空气供应给燃烧室之前，进一步用于预热空气。它是送热风干燥煤粉系统中的煤，以促进炉内燃料燃烧的关键设备。如果该功能不存在，燃烧室可能会出现故障。发电厂的炉子也有一个再热器部件，它的管子被从管子中流出的热烟气加热。流出高压涡轮机的排出蒸汽流入再热器管内，以获得能量，从而运行中间低压涡轮机。

汽轮机主要用作所有热电站的关键部件。汽轮机有两种类型:

*   冲击式涡轮机

*   冲击反击式水轮机

涡轮发电机由一系列相互连接的蒸汽轮机和一个位于同一轴上的发电机组成(铁棒结构)。一端有一个高压涡轮(HPT)，接着是一个中压涡轮(IPT)，两个低压涡轮(LPT)和发电机。蒸汽在高温(536 摄氏度至 540 摄氏度)下流动，压力(140 至 170 千克/平方厘米)在汽轮机中膨胀。

冷凝器将从汽轮机排汽口流出的蒸汽冷凝成液体，以便进一步泵送。冷凝器的功能是

*   为蒸汽提供最低的排热温度。

*   将汽轮机排出的蒸汽转化为备用水，从而节省电厂的给水需求。

冷却塔是一种半封闭装置，通过与空气接触来蒸发冷却水。从冷凝器出来的热水被输送到塔顶，并以薄片或水滴的形式滴下。空气从塔底或垂直于水流方向流动，经有效冷却后排入大气。

发电机是汽轮发电机组的电气端。它是将燃气轮机的机械能转化为电能的转换器。电的产生是基于电磁感应的原理。没有发电机，燃气轮机的输出就不会发出电。所以它是发电厂中最重要的设备。"

在他的报告中解释了这一点后，Carl 解释了从燃气轮机周围的物联网传感器获取数据所需的设置。正如第一个委员会的报告所指出的，停机发生在燃气轮机中。然而，它无法总结根本原因或指出任何可能导致燃气轮机重复停机的潜在问题。这使得它变得更加复杂，因此它需要与燃气轮机的附属电子单元产生的数据一起被监控，并被发送到 Raspberry Pi 站以使用 Modbus 协议收集数据。为了确定根本原因并查看外部环境温度是否有任何影响，在燃气轮机上安装了一些物联网传感器。监控三个参数:环境光、环境温度和物联网传感器，以测量机器设备周围的超声波。当然，在这个阶段，外界环境中的任何因素都可能导致困扰电厂工程师和设备制造商的大修，这只是一个假设。只有精心收集的数据才能证明或推翻这一假设。设置如图 [8-2](#Fig2) 所示。

![../images/484167_1_En_8_Chapter/484167_1_En_8_Fig2_HTML.jpg](../images/484167_1_En_8_Chapter/484167_1_En_8_Fig2_HTML.jpg)

图 8-2

燃气轮机上用于收集数据的物联网传感器

Raspberry Pi 3 B+使用 SQLite 格式的 Python 程序记录数据至少两周，在此期间燃气轮机可能会发生停机。使用 Python 将机器学习程序应用于这些收集的数据，以得出最终结论。

首席执行官刘诺琪·奥拉希望卡尔和他的团队提供以下结果:

*   流氓汽轮机停机原因的确凿证据

*   能够实现监控和预测停机的自动化流程的可能解决方案

两者都必须向第二委员会展示，作为概念验证阶段，以便进行进一步的商业开发。

至此，我们结束了案例研究。我们将从名为`powerplant.db`的 SQLite3 数据库中的汽轮机收集的数据集得出我们的解决方案。我们将使用这些数据，假设电厂技术人员从物联网传感器收集了这些数据，并将其发送到 Raspberry Pi 程序。清单 [8-1](#PC1) 显示了使用机器学习的 Python 代码的整个解决方案。

```py
# -*- coding: utf-8 -*-
"""
Author: Puneet Mathur
Copyright 2020
Free to copy this code with following attribution text: Author Puneet Mathur, www.PMAuthor.com
"""

import pandas as pd
import sqlite3
#Change the path as follows:
#On Raspbian: change to a path to your sqlite3 database file with *.db extension
conn = sqlite3.connect('/home/pi/sqlite3/powerplant.db')
#df.to_sql(name='tempdata', con=conn)
curr=conn.cursor()
#The table with power plant data is named: TURBINE_INLET_DATASET
df = pd.read_sql_query("select * from TURBINE_INLET_DATASET;", conn)
print(df)
#curr.execute(query)
#conn.commit()

#Looking at data
print(df.columns)
print(df.shape)
#Looking at datatypes
print(df.dtypes)
df.tail(1)

#Checking for missing values
print(df.isnull().any())

#EDA- Exploratory Data Analysis
import numpy as np
print("----------EDA STATISTICS---------------")
pd.option_context('display.max_columns', 40)
with pd.option_context('display.max_columns', 40):
    print(df.describe(include=[np.number]))
#Looking at the distribution graphically
df.hist(figsize=(10, 6))

#Correlation results
print("----------Correlation---------------")
with pd.option_context('display.max_columns', 40):
    print(df.corr())

#Dividing data into features and target
target=df['Defect']
nm=['Voltage','Current','Temperature','InletGap_mm']
features=df[nm]
with pd.option_context('display.max_columns', 40):
    features.head(1)
    target.head(1)

#Building the Model
from sklearn.model_selection import train_test_split
x_train, x_test, y_train, y_test = train_test_split( features, target, test_size=0.25, random_state=0)

from sklearn.linear_model import LogisticRegression

lr  = LogisticRegression()
lr.fit(x_train, y_train)
# Returns a NumPy Array
# Predict for One Observation (image)
lr.predict(x_test)

predictions = lr.predict(x_test)

# Use score method to get accuracy of model
score = lr.score(x_test, y_test)
print(score)

import matplotlib.pyplot as plt
import seaborn as sns
from sklearn import metrics
import numpy as np

cm = metrics.confusion_matrix(y_test, predictions)
print(cm)

plt.figure(figsize=(9,9))
sns.heatmap(cm, annot=True, fmt=".3f", linewidths=.5, square = True, cmap = 'Blues_r');
plt.ylabel('Actual Defects');
plt.xlabel('Predicted Defects');
all_sample_title = 'Accuracy Score: {0}'.format(score)
plt.title(all_sample_title, size = 15);

plt.figure(figsize=(7,7))
plt.imshow(cm, interpolation="nearest", cmap="Pastel1")
plt.title('Confusion matrix', size = 15)
plt.colorbar()
tick_marks = np.arange(2)
plt.xticks(tick_marks, ["0", "1"], rotation=45, size = 15)
plt.yticks(tick_marks, ["0", "1"], size = 15)
plt.tight_layout()
plt.ylabel('Actual Defects', size = 15)
plt.xlabel('Predicted Defects', size = 15)
width, height = cm.shape
for x in range(width):
 for y in range(height):
  plt.annotate(str(cm[x][y]), xy=(y, x),
  horizontalalignment='center',
  verticalalignment='center')
plt.show()

Listing 8-1Code for the Solution to the Case Study

```

如你所见，代码实现完全符合第 [3](3.html) 章中的机器学习代码实现。但是，请注意，结果和输出与第 [3](3.html) 章中的解决方案非常不同。

由于我们是复制第 [3](3.html) 章的机器码，我就简单描述一下这个问题的解决方案。理解汽轮机是至关重要的，因此让我们将它们作为本案例研究解决方案的一部分。

火力发电厂的原动机介质是蒸汽。简单地说，水被加热，变成蒸汽，并在蒸汽涡轮中旋转，进而驱动发电机。此后，蒸汽通过涡轮机，在冷凝器中冷凝；这就是众所周知的兰金循环。

汽轮机总是在高蒸汽压力环境下运行，并具有许多高速运动部件。喷嘴(入口阀和出口阀)和涡轮叶片是通过仔细分析设计的，其零件以高精度制造。

蒸汽轮机设备通常具有实现高达 95%可用性的历史，并且可以在停机维护和检查之间运行一年以上。他们的计划外或被迫停机率通常不到 2%，或者每年不到一周。在我们的案例研究中，在仔细分析了整个工厂的数据后，工厂制造工程师(包括机器学习工程师 Carl)将错误停机的问题缩小到汽轮机故障。

在清单 [8-1](#PC1) 中，我们首先导入像 pandas 和 sqlite3 这样的库来连接数据库。数据库名为`powerplant.db`，表名为`TURBINE_INLET_DATASET`。我们使用这些信息连接到我们的电厂数据集，首先使用`sqlite3.connect()`建立到数据库的连接，然后使用代码`pd.read_sql_query("select * from TURBINE_INLET_DATASET;", conn)`从表`TURBINE_INLET_DATASET`中读取所有行。在我们成功地将数据从数据库读取到 pandas dataframe `df`之后，我们就可以通过`df.columns`、`df.shape`和`df.dtypes`语句来查看它的结构。在这之后，我们通过代码`df.tail(1)`看最后一行；为了看到第一行，我们也可以做一个`df.head(1)`。这只是为了检查数据是否正确加载。下一步检查是查看我们的数据集是否有任何缺失值，这种可能性较小，因为在我们的案例中用于监控汽轮机入口和出口阀的仪器是振动计，它测量汽轮机内部阀门系统的声音和电气输入等值。使用的代码是`print(df.isnull().any())`，在我们的例子中，它给出 False 值作为输出，因为我们在任何列中都没有空值。一旦我们通过了这个数据检查，我们就可以对我们的电厂数据集进行探索性的数据分析了。在现实世界中，您将需要合并来自物联网传感器和设备(如振动计)的数据以及蒸汽轮机监控软件(如 ge 的 GateCycle)的数据。对于团队中的机器学习工程师来说，这将是最耗时的活动。合并时，您可能会遇到数据不兼容的问题，例如日期时间的不同格式，您需要在最终合并发生之前解决这些问题。

为了快速完成 EDA，我们使用了 pandas 数据帧的`df.describe()`功能。它为我们提供了基本的统计数据，如平均值、标准差、变量最小值、变量最大值、第 25 个百分点、第 50 个百分点和第 75 个百分点的数据。在这之后，我们来看看数字列的直方图，如图 [8-3](#Fig3) 所示。

![../images/484167_1_En_8_Chapter/484167_1_En_8_Fig3_HTML.jpg](../images/484167_1_En_8_Chapter/484167_1_En_8_Fig3_HTML.jpg)

图 8-3

所有列的直方图

入口间隙变量的曲线更接近正态曲线；然而，它在左侧很重。温度几乎是均匀分布的。然而，电压变量在图形上显示了一些前景。让我们通过相关性来确认这些关系。要运行的语句是`df.corr()`，输出在表 [8-3](#Tab3) 中给出。

表 8-3

电厂数据集中的关联结果

<colgroup><col class="tcol1 align-left"> <col class="tcol2 align-left"> <col class="tcol3 align-left"> <col class="tcol4 align-left"> <col class="tcol5 align-left"> <col class="tcol6 align-left"> <col class="tcol7 align-left"></colgroup> 
| 

相互关系

 | 

循环

 | 

入口间隙 _ 毫米

 | 

电压

 | 

目前的

 | 

温度

 | 

缺点

 |
| --- | --- | --- | --- | --- | --- | --- |
| **迭代** | one | Zero point zero zero five | -0.1 | -0.17 | Zero point two one one | Zero point two five one |
| **进气间隙 _ 毫米** | Zero point zero zero five | one | Zero point nine six four | Zero point seven eight two | Zero point one seven one | Zero point one nine three |
| **电压** | -0.1 | Zero point nine six four | one | Zero point eight two six | Zero point zero eight four | Zero point zero nine four |
| **电流** | -0.17 | Zero point seven eight two | Zero point eight two six | one | -0.176 | -0.21 |
| **温度** | Zero point two one one | Zero point one seven one | Zero point zero eight four | -0.176 | one | Zero point eight five three |
| **缺陷** | Zero point two five one | Zero point one nine three | Zero point zero nine four | -0.21 | Zero point eight five three | one |

我们可以推断柱之间存在的关系，例如入口间隙和电压，其在 0.964 高度相关；同样将入口间隙和电流列为 0.782。电压和电流也高度相关，如预期的那样，为 0.826。通过工业级物联网温度传感器测量的进口阀附近的内部温度与 0.853 处的缺陷呈正相关。汽轮机进汽门操作的缺陷或异常情况见图 [8-4](#Fig4) ，进汽门操作循环的正常操作见图 [8-5](#Fig5) 。

![../images/484167_1_En_8_Chapter/484167_1_En_8_Fig5_HTML.jpg](../images/484167_1_En_8_Chapter/484167_1_En_8_Fig5_HTML.jpg)

图 8-5

进气门操作循环中的正常操作

![../images/484167_1_En_8_Chapter/484167_1_En_8_Fig4_HTML.jpg](../images/484167_1_En_8_Chapter/484167_1_En_8_Fig4_HTML.jpg)

图 8-4

进气门操作周期中的异常或缺陷

入口阀操作图上的红色箭头显示了入口间隙、电压和电流之间的异常操作。这显示了电厂发生断电的情况，根本原因是汽轮机入口阀的电子控制器出现故障。

那么这个数据有什么用呢？嗯，它允许机器学习工程师为这样的机器建立预测模型，不仅用于异常检测，还用于为蒸汽涡轮机的预测性维护提供提前警告。当然，这将需要比您在这里看到的更多的数据，但这是建立一个在电厂运行中有效的概念证明的良好开端。让我们继续构建我们的预测模型。

在下一部分代码中，在计算变量之间的相关性后，我们现在将数据集划分为目标变量、`Defect`列和特征变量，即`Voltage`、`Temperature`和`InletGap_mm`。请注意，我没有使用交叉验证(CV)或缩放，因为这是原型级别的代码，只是看看构建模型是否可行。你可以根据我的书*使用 Python 的机器学习应用*的第 [3](3.html) 章添加它们。

之后，我们导入 sklearn 库，如 train_test_split，以及分类器算法，如逻辑回归、线性判别分析、KNeighbors 分类器、高斯、朴素贝叶斯、决策树分类器和 SVM。然后初始化每个 sklearn 算法库，然后对每个算法库使用`fit()`方法，使模型使用 x_train 和 y_train 数据集进行学习。一旦系统进行了预测，我们就可以在测试数据集上测试它的预测精度。这是使用每个分类器的`predict()`函数来完成的。接下来，使用`accuracy_score()`函数，我们对每个算法进行评分，并检查它们的结果。请注意，在现实世界中，您不会对所有分类器都获得 1.0 的准确预测。所以基于这些结果，你需要选择最好的分类器，在最短的时间内给出最准确的结果。同样，我在我的书*使用 Python 的机器学习应用*中以代码格式讨论了这一点。

分类器有分类变量作为预测器，所以它们应该有一个混淆矩阵，这是我们以文本和图形格式创建的，作为代码的最后一部分来查看结果。

## 摘要

在这一章中，你已经看到了一个属于能源领域的非常技术性的案例研究:一个火力发电厂。本案例研究将您带到了发电厂公司所面临的一些挑战的前沿，这些挑战不仅包括建立发电厂，还包括成功运营发电厂。本案例研究提出了一个非常年轻的电厂的断电问题，该问题很可能是由温度引起的，就像炎热气候中的电厂一样。该团队使用数据将问题定位到汽轮机内部的一个流氓入口操作单元，但需要数据和预测模型来创建一个针对此类异常的高级警告系统。这将触发预测性维护的请求，只要通过数据的定期监控看到这种异常的症状。我们创建了一个解决方案作为概念验证，以确定构建这样一个模型是否可行，以及是否有任何切实的结果。通过使用分类算法，我们创建了一个模型，该模型可以 100%地预测时间，或者具有 1.0 的准确性分数，这在现实世界中很少见。您看到了如何使用来自物联网传感器和 Raspberry Pi Model 3 B+的数据轻松创建整个解决方案。